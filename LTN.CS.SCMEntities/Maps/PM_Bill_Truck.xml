<?xml version="1.0" encoding="utf-8" ?> 
<sqlMap namespace="PM_Bill_Truck" xmlns="http://ibatis.apache.org/mapping"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >
  <resultMaps>
    <resultMap id="QueryTruckMeasurePlanByPlanNoResultSet" class="PT_TruckMeasurePlan">
      <result property="I_INTID"        column="I_INTID"/>
      <result property="C_PLANNO"       column="C_PLANNO"/>
      <result property="C_CARNO"        column="C_CARNO"/>
      <result property="C_CARNAME"      column="C_CARNAME"/>
      <result property="C_CARSERIALNUMBER"     column="C_CARSERIALNUMBER"/>
      <result property="C_CONTRACTNO"          column="C_CONTRACTNO"/>
      <result property="C_MATERIALNO"   column="C_MATERIALNO"/>
      <result property="C_MATERIALNAME" column="C_MATERIALNAME"/>
      <result property="C_FROMDEPTNO"   column="C_FROMDEPTNO"/>
      <result property="C_FROMDEPTNAME" column="C_FROMDEPTNAME"/>
      <result property="C_FROMSTORENO"  column="C_FROMSTORENO"/>
      <result property="C_FROMSTORENAME" column="C_FROMSTORENAME"/>
      <result property="C_TODEPTNO"     column="C_TODEPTNO"/>
      <result property="C_TODEPTNAME"   column="C_TODEPTNAME"/>
      <result property="C_TOSTORENO"    column="C_TOSTORENO"/>
      <result property="C_TOSTORENAME"  column="C_TOSTORENAME"/>
      <result property="I_BUSINESSTYPE" column="I_BUSINESSTYPE"/>
      <result property="I_PLANTYPE"     column="I_PLANTYPE"/>
      <result property="I_ISAUTO"       column="I_ISAUTO"/>
      <result property="I_WEIGHTTYPE"   column="I_WEIGHTTYPE"/>
      <result property="I_TARETIMELIMIT" column="I_TARETIMELIMIT"/>
      <result property="I_ONEMORESTOCK" column="I_ONEMORESTOCK"/>
      <result property="I_ISCHILDIDENFY"      column="I_ISCHILDIDENFY"/>
      <result property="I_ISCREATEMOTHERPOND" column="I_ISCREATEMOTHERPOND"/>
      <result property="C_CONNECTPLANNO"      column="C_CONNECTPLANNO"/>
      <result property="I_ONETWOPLAN"         column="I_ONETWOPLAN"/>
      <result property="C_MIDDLEDEPTNO"       column="C_MIDDLEDEPTNO"/>
      <result property="C_MIDDLEDEPTNAME"     column="C_MIDDLEDEPTNAME"/>
      <result property="C_MIDDLESTORENO"      column="C_MIDDLESTORENO"/>
      <result property="C_MIDDLESTORENAME"    column="C_MIDDLESTORENAME"/>
      <result property="I_RETALLYKG"          column="I_RETALLYKG"/>
      <result property="I_COMPUTERTYPE"       column="I_COMPUTERTYPE"/>
      <result property="I_DOWNVALUE"          column="I_DOWNVALUE"/>
      <result property="I_UPVALUE"            column="I_UPVALUE"/>
      <result property="C_PERCENTAGE"         column="C_PERCENTAGE"/>
      <result property="C_SHIPPINGNOTE"       column="C_SHIPPINGNOTE"/>
      <result property="I_REPEATPOUND"        column="I_REPEATPOUND"/>
      <result property="C_PLANLIMITTIME"      column="C_PLANLIMITTIME"/>
      <result property="C_PONDLIMIT"          column="C_PONDLIMIT"/>
      <result property="C_REMARK"   column="C_REMARK"/>
      <result property="C_RESERVE1" column="C_RESERVE1"/>
      <result property="C_RESERVE2" column="C_RESERVE2"/>
      <result property="C_RESERVE3" column="C_RESERVE3"/>
      <result property="I_RESERVE1" column="I_RESERVE1"/>
      <result property="I_RESERVE2" column="I_RESERVE2"/>
      <result property="I_RESERVE3" column="I_RESERVE3"/>
      <result property="C_PLANSTATE"        column="C_PLANSTATE"/>
      <result property="C_CREATETIME"       column="C_CREATETIME"/>
      <result property="C_CREATEUSERNAME"   column="C_CREATEUSERNAME"/>
      <result property="C_UPDATEUSERNAME"   column="C_UPDATEUSERNAME"/>
      <result property="C_UPDATETIME"       column="C_UPDATETIME"/>
      <result property="C_CONTAINERNO" column="C_CONTAINERNO" />
      <result property="C_RESERVE4" column="C_RESERVE4" />
      <result property="C_RESERVE5" column="C_RESERVE5" />
      <result property="C_RESERVE6" column="C_RESERVE6" />
      <result property="C_RESERVE7" column="C_RESERVE7" />
    </resultMap>
    <resultMap id="QueryPM_Bill_TruckResultSet" class="PM_Bill_Truck">
      <result property="I_INTID" column="I_INTID" />
      <result property="C_PLANNO" column="C_PLANNO" />
      <result property="C_CARNO" column="C_CARNO" />
      <result property="C_CARNAME" column="C_CARNAME" />
      <result property="C_CARSERIALNUMBER"     column="C_CARSERIALNUMBER"/>
      <result property="C_CONTRACTNO"          column="C_CONTRACTNO"/>
      <result property="C_MATERIALNO" column="C_MATERIALNO" />
      <result property="C_MATERIALNAME" column="C_MATERIALNAME" />
      <result property="C_FROMDEPTNO" column="C_FROMDEPTNO" />
      <result property="C_FROMDEPTNAME" column="C_FROMDEPTNAME" />
      <result property="C_FROMSTORENO" column="C_FROMSTORENO" />
      <result property="C_FROMSTORENAME" column="C_FROMSTORENAME" />
      <result property="C_TODEPTNO" column="C_TODEPTNO" />
      <result property="C_TODEPTNAME" column="C_TODEPTNAME" />
      <result property="C_TOSTORENO" column="C_TOSTORENO" />
      <result property="C_TOSTORENAME" column="C_TOSTORENAME" />
      <result property="I_BUSINESSTYPE" column="I_BUSINESSTYPE" />
      <result property="I_PLANTYPE" column="I_PLANTYPE" />
      <result property="I_ISAUTO" column="I_ISAUTO" />
      <result property="I_WEIGHTTYPE" column="I_WEIGHTTYPE" />
      <result property="I_TARETIMELIMIT" column="I_TARETIMELIMIT" />
      <result property="I_ONEMORESTOCK" column="I_ONEMORESTOCK" />
      <result property="I_ISCHILDIDENFY" column="I_ISCHILDIDENFY" />
      <result property="I_ISCREATEMOTHERPOND" column="I_ISCREATEMOTHERPOND" />
      <result property="C_CONNECTPLANNO" column="C_CONNECTPLANNO" />
      <result property="I_ONETWOPLAN" column="I_ONETWOPLAN" />
      <result property="C_MIDDLEDEPTNO" column="C_MIDDLEDEPTNO" />
      <result property="C_MIDDLEDEPTNAME" column="C_MIDDLEDEPTNAME" />
      <result property="C_MIDDLESTORENO" column="C_MIDDLESTORENO" />
      <result property="C_MIDDLESTORENAME" column="C_MIDDLESTORENAME" />
      <result property="I_RETALLYKG" column="I_RETALLYKG" />
      <result property="I_COMPUTERTYPE" column="I_COMPUTERTYPE" />
      <result property="I_DOWNVALUE" column="I_DOWNVALUE" />
      <result property="I_UPVALUE" column="I_UPVALUE" />
      <result property="C_PERCENTAGE" column="C_PERCENTAGE" />
      <result property="C_SHIPPINGNOTE" column="C_SHIPPINGNOTE" />
      <result property="I_REPEATPOUND" column="I_REPEATPOUND" />
      <result property="C_PLANLIMITTIME" column="C_PLANLIMITTIME" />
      <result property="C_PONDLIMIT" column="C_PONDLIMIT" />
      <result property="C_CREATETIME" column="C_CREATETIME" />
      <result property="C_CREATEUSERNAME" column="C_CREATEUSERNAME" />
      <result property="C_REMARK" column="C_REMARK" />
      <result property="C_RESERVE1" column="C_RESERVE1" />
      <result property="C_RESERVE2" column="C_RESERVE2" />
      <result property="C_RESERVE3" column="C_RESERVE3" />
      <result property="I_RESERVE1" column="I_RESERVE1" />
      <result property="I_RESERVE2" column="I_RESERVE2" />
      <result property="I_RESERVE3" column="I_RESERVE3" />
      <result property="C_PLANSTATE" column="C_PLANSTATE" />
      <result property="C_WGTLISTNO" column="C_WGTLISTNO" />
      <result property="C_BARCODENO" column="C_BARCODENO" />
      <result property="N_TAREWGT" column="N_TAREWGT" />
      <result property="N_GROSSWGT" column="N_GROSSWGT" />
      <result property="N_NETWGT" column="N_NETWGT" />
      <result property="C_TAREWGTTIME" column="C_TAREWGTTIME" />
      <result property="C_GROSSWGTTIME" column="C_GROSSWGTTIME" />
      <result property="C_NETWGTTIME" column="C_NETWGTTIME" />
      <result property="C_TAREWGTSITENO" column="C_TAREWGTSITENO" />
      <result property="C_TAREWGTSITENAME" column="C_TAREWGTSITENAME" />
      <result property="C_GROSSWGTSITENO" column="C_GROSSWGTSITENO" />
      <result property="C_GROSSWGTSITENAME" column="C_GROSSWGTSITENAME" />
      <result property="C_TAREWGTMAN" column="C_TAREWGTMAN" />
      <result property="C_GROSSWGTMAN" column="C_GROSSWGTMAN" />
      <result property="I_RETURNFLAG" column="I_RETURNFLAG" />
      <result property="C_PONDREMARK" column="C_PONDREMARK" />
      <result property="C_RESERVEFLAG1" column="C_RESERVEFLAG1" />
      <result property="C_RESERVEFLAG2" column="C_RESERVEFLAG2" />
      <result property="C_RESERVEFLAG3" column="C_RESERVEFLAG3" />
      <result property="I_RESERVEFLAG1" column="I_RESERVEFLAG1" />
      <result property="I_RESERVEFLAG2" column="I_RESERVEFLAG2" />
      <result property="I_RESERVEFLAG3" column="I_RESERVEFLAG3" />
      <result property="C_BILLSTATE" column="C_BILLSTATE" />
      <result property="C_UPDATEUSERNAME" column="C_UPDATEUSERNAME" />
      <result property="C_UPDATETIME" column="C_UPDATETIME" />
      <result property="C_BILLCREATETIME" column="C_BILLCREATETIME" />
      <result property="C_BILLCREATEUSERNAME" column="C_BILLCREATEUSERNAME" />
      <result property="I_REPEATFLAG"       column="I_REPEATFLAG"/>
      <result property="C_UPLOADSTATUE"       column="C_UPLOADSTATUE"/>
      <result property="C_PLANSTATUS"       column="C_PLANSTATUS"/>
      <result property="C_CONTAINERNO" column="C_CONTAINERNO" />
      <result property="C_RESERVE4" column="C_RESERVE4" />
      <result property="C_RESERVE5" column="C_RESERVE5" />
      <result property="C_RESERVE6" column="C_RESERVE6" />
      <result property="C_RESERVE7" column="C_RESERVE7" />
      <result property="strFilePath" column="strFilePath" />
    </resultMap>
    
    <resultMap id="QueryPM_Bill_TruckResultPrint" class="PM_Bill_Truck">
      <result property="I_INTID" column="I_INTID" />
      <result property="C_PLANNO" column="C_PLANNO" />
      <result property="C_CARNO" column="C_CARNO" />
      <result property="C_CARNAME" column="C_CARNAME" />
      <result property="C_CARSERIALNUMBER"     column="C_CARSERIALNUMBER"/>
      <result property="C_CONTRACTNO"          column="C_CONTRACTNO"/>
      <result property="C_MATERIALNO" column="C_MATERIALNO" />
      <result property="C_MATERIALNAME" column="C_MATERIALNAME" />
      <result property="C_FROMDEPTNO" column="C_FROMDEPTNO" />
      <result property="C_FROMDEPTNAME" column="C_FROMDEPTNAME" />
      <result property="C_FROMSTORENO" column="C_FROMSTORENO" />
      <result property="C_FROMSTORENAME" column="C_FROMSTORENAME" />
      <result property="C_TODEPTNO" column="C_TODEPTNO" />
      <result property="C_TODEPTNAME" column="C_TODEPTNAME" />
      <result property="C_TOSTORENO" column="C_TOSTORENO" />
      <result property="C_TOSTORENAME" column="C_TOSTORENAME" />
      <result property="I_BUSINESSTYPE" column="I_BUSINESSTYPE" />
      <result property="I_PLANTYPE" column="I_PLANTYPE" />
      <result property="I_ISAUTO" column="I_ISAUTO" />
      <result property="I_WEIGHTTYPE" column="I_WEIGHTTYPE" />
      <result property="I_TARETIMELIMIT" column="I_TARETIMELIMIT" />
      <result property="I_ONEMORESTOCK" column="I_ONEMORESTOCK" />
      <result property="I_ISCHILDIDENFY" column="I_ISCHILDIDENFY" />
      <result property="I_ISCREATEMOTHERPOND" column="I_ISCREATEMOTHERPOND" />
      <result property="C_CONNECTPLANNO" column="C_CONNECTPLANNO" />
      <result property="I_ONETWOPLAN" column="I_ONETWOPLAN" />
      <result property="C_MIDDLEDEPTNO" column="C_MIDDLEDEPTNO" />
      <result property="C_MIDDLEDEPTNAME" column="C_MIDDLEDEPTNAME" />
      <result property="C_MIDDLESTORENO" column="C_MIDDLESTORENO" />
      <result property="C_MIDDLESTORENAME" column="C_MIDDLESTORENAME" />
      <result property="I_RETALLYKG" column="I_RETALLYKG" />
      <result property="I_COMPUTERTYPE" column="I_COMPUTERTYPE" />
      <result property="I_DOWNVALUE" column="I_DOWNVALUE" />
      <result property="I_UPVALUE" column="I_UPVALUE" />
      <result property="C_PERCENTAGE" column="C_PERCENTAGE" />
      <result property="C_SHIPPINGNOTE" column="C_SHIPPINGNOTE" />
      <result property="I_REPEATPOUND" column="I_REPEATPOUND" />
      <result property="C_PLANLIMITTIME" column="C_PLANLIMITTIME" />
      <result property="C_PONDLIMIT" column="C_PONDLIMIT" />
      <result property="C_CREATETIME" column="C_CREATETIME" />
      <result property="C_CREATEUSERNAME" column="C_CREATEUSERNAME" />
      <result property="C_REMARK" column="C_REMARK" />
      <result property="C_RESERVE1" column="C_RESERVE1" />
      <result property="C_RESERVE2" column="C_RESERVE2" />
      <result property="C_RESERVE3" column="C_RESERVE3" />
      <result property="I_RESERVE1" column="I_RESERVE1" />
      <result property="I_RESERVE2" column="I_RESERVE2" />
      <result property="I_RESERVE3" column="I_RESERVE3" />
      <result property="C_PLANSTATE" column="C_PLANSTATE" />
      <result property="C_WGTLISTNO" column="C_WGTLISTNO" />
      <result property="C_BARCODENO" column="C_BARCODENO" />
      <result property="N_TAREWGT" column="N_TAREWGT" />
      <result property="N_GROSSWGT" column="N_GROSSWGT" />
      <result property="N_NETWGT" column="N_NETWGT" />
      <result property="C_TAREWGTTIME" column="C_TAREWGTTIME" />
      <result property="C_GROSSWGTTIME" column="C_GROSSWGTTIME" />
      <result property="C_NETWGTTIME" column="C_NETWGTTIME" />
      <result property="C_TAREWGTSITENO" column="C_TAREWGTSITENO" />
      <result property="C_TAREWGTSITENAME" column="C_TAREWGTSITENAME" />
      <result property="C_GROSSWGTSITENO" column="C_GROSSWGTSITENO" />
      <result property="C_GROSSWGTSITENAME" column="C_GROSSWGTSITENAME" />
      <result property="C_TAREWGTMAN" column="C_TAREWGTMAN" />
      <result property="C_GROSSWGTMAN" column="C_GROSSWGTMAN" />
      <result property="I_RETURNFLAG" column="I_RETURNFLAG" />
      <result property="C_PONDREMARK" column="C_PONDREMARK" />
      <result property="C_RESERVEFLAG1" column="C_RESERVEFLAG1" />
      <result property="C_RESERVEFLAG2" column="C_RESERVEFLAG2" />
      <result property="C_RESERVEFLAG3" column="C_RESERVEFLAG3" />
      <result property="I_RESERVEFLAG1" column="I_RESERVEFLAG1" />
      <result property="I_RESERVEFLAG2" column="I_RESERVEFLAG2" />
      <result property="I_RESERVEFLAG3" column="I_RESERVEFLAG3" />
      <result property="C_BILLSTATE" column="C_BILLSTATE" />
      <result property="C_UPDATEUSERNAME" column="C_UPDATEUSERNAME" />
      <result property="C_UPDATETIME" column="C_UPDATETIME" />
      <result property="C_BILLCREATETIME" column="C_BILLCREATETIME" />
      <result property="C_BILLCREATEUSERNAME" column="C_BILLCREATEUSERNAME" />
      <result property="I_REPEATFLAG"       column="I_REPEATFLAG"/>
      <result property="C_UPLOADSTATUE"       column="C_UPLOADSTATUE"/>
      <result property="C_PLANSTATUS"       column="C_PLANSTATUS"/>
      <result property="I_PRINTNUM"       column="I_PRINTNUM"/>
      <result property="C_CONTAINERNO" column="C_CONTAINERNO" />
      <result property="C_RESERVE4" column="C_RESERVE4" />
      <result property="C_RESERVE5" column="C_RESERVE5" />
      <result property="C_RESERVE6" column="C_RESERVE6" />
      <result property="C_RESERVE7" column="C_RESERVE7" />
      <result property="strFilePath" column="strFilePath" />
    </resultMap>
  </resultMaps>
  <statements>
    <select id="QueryTruckBillForCreateBillNo" resultClass="string" parameterClass="string">
      select * from
      (select t.C_WGTLISTNO from  PM_BILL_TRUCK t where t.C_WGTLISTNO like #value# order by t.c_Createtime desc)
      where rownum=1
    </select>
    <select id="QueryTruckMeasurePlanByPlanNo" parameterClass="string" resultMap="QueryTruckMeasurePlanByPlanNoResultSet">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7
      from PT_TRUCKMEASUREPLAN t
      where t.C_PLANNO=#value#
    </select>
    <update id="Invalid_PM_Bill_TruckByHashTable" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set C_BILLSTATE=2 , C_UPLOADSTATUE='N',C_PLANSTATUS='D' ,  C_UPDATEUSERNAME=#C_UPDATEUSERNAME#,
      C_UPDATETIME=to_char(sysdate,'yyyyMMddhh24miss')  where I_INTID=#I_INTID#
    </update>

    <update id="Invalid_PM_TruckMeasureByHashTable" parameterClass="string">
      update PT_TRUCKMEASUREPLAN set C_PLANSTATE=1   where C_PLANNO=#value#
    </update>
    
    <select id="Select_PM_Bill_TruckByHashTable" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE!=2
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ContractNo">
        t.C_CONTRACTNO=#ContractNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CARNAME">
        t.C_CARNAME like '%$CARNAME$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc

    </select>

    <select id="QueryBillTruckByCarNoAndPlanNo" resultMap="QueryPM_Bill_TruckResultSet"  resultClass="PM_Bill_Truck"  parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>


    <select id="Select_LatestPM_Bill_TruckByPond" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="GrossWgtListNo1">
          <![CDATA[((t.C_TAREWGTSITENO in(#TareWgtListNo1#,#TareWgtListNo2#)) 
          or (t.C_GROSSWGTSITENO in(#GrossWgtListNo1#,#GrossWgtListNo2#)))]]>
        </isNotEmpty>
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>

    <select id="Select_LatestPM_Bill_TruckByPondAFourOne" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_MIDDLEDEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="GrossWgtListNo1">
          <![CDATA[((t.C_TAREWGTSITENO in(#TareWgtListNo1#,#TareWgtListNo2#)) 
          or (t.C_GROSSWGTSITENO in(#GrossWgtListNo1#,#GrossWgtListNo2#)))]]>
        </isNotEmpty>
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>


    <select id="Select_LatestPM_Bill_TruckByPondAFourTwo" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_MIDDLEDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="GrossWgtListNo1">
          <![CDATA[((t.C_TAREWGTSITENO in(#TareWgtListNo1#,#TareWgtListNo2#)) 
          or (t.C_GROSSWGTSITENO in(#GrossWgtListNo1#,#GrossWgtListNo2#)))]]>
        </isNotEmpty>
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>
    
    <select id="Select_LatestPM_Bill_TruckByPond2" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where (C_BILLSTATE =0 or C_BILLSTATE =1)
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>
    <select id="Select_LatestPM_Bill_TruckByPondForjincai" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO=#PlanNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO=#WgtNo#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME=#CarName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="TareWgtListNo2">
          <![CDATA[(t.C_TAREWGTSITENO = #TareWgtListNo1# or t.C_TAREWGTSITENO = #TareWgtListNo2# )]]>
        </isNotEmpty>
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="GrossWgtListNo1">
        <isNotEmpty property="GrossWgtListNo2">
          <![CDATA[(t.C_GROSSWGTSITENO = #GrossWgtListNo1# or t.C_GROSSWGTSITENO = #GrossWgtListNo2# )]]>
        </isNotEmpty>
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_GROSSWGTTIME desc
    </select>
    <select id="QueryBillTruckBywgiston" resultMap="QueryPM_Bill_TruckResultPrint"  resultClass="PM_Bill_Truck"  parameterClass="string">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_WGTLISTNO=#value#
    </select>
    
    <select id="Select_PM_Bill_TruckByCarNo" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="string">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where  C_CARNAME = #value#  and C_BILLSTATE=0
    </select>

    <select id="Select_LatestPM_Bill_TruckByCarNo" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="string">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_CARNAME = #value#  and C_BILLSTATE!=2
      order by C_NETWGTTIME desc
    </select>

    <select id="Select_LatestPM_Bill_TruckByCarNo1" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="string">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_CARNAME = #value#  and C_BILLSTATE = 0 and I_WEIGHTTYPE = 2
      order by C_CREATETIME desc
    </select>
    
    <select id="Select_PM_Bill_TruckByCarNo2" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="string">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_CARNAME = #value#  and C_BILLSTATE=0
    </select>
    <select id="Select_PM_BILL_TRUCKByIntId" resultMap="QueryPM_Bill_TruckResultSet">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where I_IntId = #value#
    </select>
    
    <update id="UpdatePM_Bill_TruckByWgListNo" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set
      I_REPEATFLAG=#I_REPEATFLAG#,
      C_CARNAME=#C_CARNAME#
      where  C_WGTLISTNO=#C_WGTLISTNO#
    </update>
    
    <update id="UpdatePM_Bill_TruckByPrint" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set
      I_PRINTNUM=#I_PRINTNUM#
      <!--C_UPDATEUSERNAME=#C_UPDATEUSERNAME#,
      C_UPDATETIME = to_char(sysdate,'yyyyMMddhh24miss')-->
      where  C_WGTLISTNO=#C_WGTLISTNO#
    </update>
    
    <update id="UpdatePM_Bill_TruckByCarName" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set
      C_BILLSTATE=#C_BILLSTATE#
      where  C_CARNAME=#C_CARNAME#  and C_BILLSTATE=0
    </update>
    
    <update id="Update_PM_Bill_Truck" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set
      C_PLANNO=#C_PLANNO#,
      C_CARNO=#C_CARNO#,
      C_CARNAME=#C_CARNAME#,
      C_CARSERIALNUMBER=#C_CARSERIALNUMBER#,
      C_CONTRACTNO=#C_CONTRACTNO#,
      C_MATERIALNO=#C_MATERIALNO#,
      C_MATERIALNAME=#C_MATERIALNAME#,
      C_FROMDEPTNO=#C_FROMDEPTNO#,
      C_FROMDEPTNAME=#C_FROMDEPTNAME#,
      C_FROMSTORENO=#C_FROMSTORENO#,
      C_FROMSTORENAME=#C_FROMSTORENAME#,
      C_TODEPTNO=#C_TODEPTNO#,
      C_TODEPTNAME=#C_TODEPTNAME#,
      C_TOSTORENO=#C_TOSTORENO#,
      C_TOSTORENAME=#C_TOSTORENAME#,
      I_BUSINESSTYPE=#I_BUSINESSTYPE#,
      I_PLANTYPE=#I_PLANTYPE#,
      I_ISAUTO=#I_ISAUTO#,
      I_WEIGHTTYPE=#I_WEIGHTTYPE#,
      I_TARETIMELIMIT=#I_TARETIMELIMIT#,
      I_ONEMORESTOCK=#I_ONEMORESTOCK#,
      I_ISCHILDIDENFY=#I_ISCHILDIDENFY#,
      I_ISCREATEMOTHERPOND=#I_ISCREATEMOTHERPOND#,
      C_CONNECTPLANNO=#C_CONNECTPLANNO#,
      I_ONETWOPLAN=#I_ONETWOPLAN#,
      C_MIDDLEDEPTNO=#C_MIDDLEDEPTNO#,
      C_MIDDLEDEPTNAME=#C_MIDDLEDEPTNAME#,
      C_MIDDLESTORENO=#C_MIDDLESTORENO#,
      C_MIDDLESTORENAME=#C_MIDDLESTORENAME#,
      I_RETALLYKG=#I_RETALLYKG#,
      I_COMPUTERTYPE=#I_COMPUTERTYPE#,
      I_DOWNVALUE=#I_DOWNVALUE#,
      I_UPVALUE=#I_UPVALUE#,
      C_PERCENTAGE=#C_PERCENTAGE#,
      C_SHIPPINGNOTE=#C_SHIPPINGNOTE#,
      I_REPEATPOUND=#I_REPEATPOUND#,
      C_PLANLIMITTIME=#C_PLANLIMITTIME#,
      C_PONDLIMIT=#C_PONDLIMIT#,
      C_CREATETIME=#C_CREATETIME#,
      C_CREATEUSERNAME=#C_CREATEUSERNAME#,
      C_REMARK=#C_REMARK#,
      C_RESERVE1=#C_RESERVE1#,
      C_RESERVE2=#C_RESERVE2#,
      C_RESERVE3=#C_RESERVE3#,
      I_RESERVE1=#I_RESERVE1#,
      I_RESERVE2=#I_RESERVE2#,
      I_RESERVE3=#I_RESERVE3#,
      C_PLANSTATE=#C_PLANSTATE#,
      C_WGTLISTNO=#C_WGTLISTNO#,
      C_BARCODENO=#C_BARCODENO#,
      N_TAREWGT=#N_TAREWGT#,
      N_GROSSWGT=#N_GROSSWGT#,
      N_NETWGT=#N_NETWGT#,
      C_TAREWGTTIME=#C_TAREWGTTIME#,
      C_GROSSWGTTIME=#C_GROSSWGTTIME#,
      C_NETWGTTIME=#C_NETWGTTIME#,
      C_TAREWGTSITENO=#C_TAREWGTSITENO#,
      C_TAREWGTSITENAME=#C_TAREWGTSITENAME#,
      C_GROSSWGTSITENO=#C_GROSSWGTSITENO#,
      C_GROSSWGTSITENAME=#C_GROSSWGTSITENAME#,
      C_TAREWGTMAN=#C_TAREWGTMAN#,
      C_GROSSWGTMAN=#C_GROSSWGTMAN#,
      I_RETURNFLAG=#I_RETURNFLAG#,
      C_PONDREMARK=#C_PONDREMARK#,
      C_RESERVEFLAG1=#C_RESERVEFLAG1#,
      C_RESERVEFLAG2=#C_RESERVEFLAG2#,
      C_RESERVEFLAG3=#C_RESERVEFLAG3#,
      I_RESERVEFLAG1=#I_RESERVEFLAG1#,
      I_RESERVEFLAG2=#I_RESERVEFLAG2#,
      I_RESERVEFLAG3=#I_RESERVEFLAG3#,
      C_BILLSTATE=#C_BILLSTATE#,
      C_UPDATEUSERNAME=#C_UPDATEUSERNAME#,
      C_UPDATETIME=to_char(sysdate,'yyyyMMddhh24miss'),
      C_BILLCREATETIME=#C_BILLCREATETIME#,
      C_BILLCREATEUSERNAME=#C_BILLCREATEUSERNAME#,
      I_REPEATFLAG=#I_REPEATFLAG#,
      C_UPLOADSTATUE='N',
      C_PLANSTATUS=#C_PLANSTATUS#,
      C_CONTAINERNO=#C_CONTAINERNO#,
      C_RESERVE4=#C_RESERVE4#,
      C_RESERVE5=#C_RESERVE5#,
      C_RESERVE6=#C_RESERVE6#,
      C_RESERVE7=#C_RESERVE7#,
      strFilePath=#strFilePath#
      where  I_INTID=#I_INTID#

    </update>

    <update id="Update_PM_Bill_Truck2" parameterClass="PM_Bill_Truck">
      update PM_BILL_TRUCK set
      C_PLANNO=#C_PLANNO#,
      C_CARNO=#C_CARNO#,
      C_CARNAME=#C_CARNAME#,
      C_CARSERIALNUMBER=#C_CARSERIALNUMBER#,
      C_CONTRACTNO=#C_CONTRACTNO#,
      C_MATERIALNO=#C_MATERIALNO#,
      C_MATERIALNAME=#C_MATERIALNAME#,
      C_FROMDEPTNO=#C_FROMDEPTNO#,
      C_FROMDEPTNAME=#C_FROMDEPTNAME#,
      C_FROMSTORENO=#C_FROMSTORENO#,
      C_FROMSTORENAME=#C_FROMSTORENAME#,
      C_TODEPTNO=#C_TODEPTNO#,
      C_TODEPTNAME=#C_TODEPTNAME#,
      C_TOSTORENO=#C_TOSTORENO#,
      C_TOSTORENAME=#C_TOSTORENAME#,
      I_BUSINESSTYPE=#I_BUSINESSTYPE#,
      I_PLANTYPE=#I_PLANTYPE#,
      I_ISAUTO=#I_ISAUTO#,
      I_WEIGHTTYPE=#I_WEIGHTTYPE#,
      I_TARETIMELIMIT=#I_TARETIMELIMIT#,
      I_ONEMORESTOCK=#I_ONEMORESTOCK#,
      I_ISCHILDIDENFY=#I_ISCHILDIDENFY#,
      I_ISCREATEMOTHERPOND=#I_ISCREATEMOTHERPOND#,
      C_CONNECTPLANNO=#C_CONNECTPLANNO#,
      I_ONETWOPLAN=#I_ONETWOPLAN#,
      C_MIDDLEDEPTNO=#C_MIDDLEDEPTNO#,
      C_MIDDLEDEPTNAME=#C_MIDDLEDEPTNAME#,
      C_MIDDLESTORENO=#C_MIDDLESTORENO#,
      C_MIDDLESTORENAME=#C_MIDDLESTORENAME#,
      I_RETALLYKG=#I_RETALLYKG#,
      I_COMPUTERTYPE=#I_COMPUTERTYPE#,
      I_DOWNVALUE=#I_DOWNVALUE#,
      I_UPVALUE=#I_UPVALUE#,
      C_PERCENTAGE=#C_PERCENTAGE#,
      C_SHIPPINGNOTE=#C_SHIPPINGNOTE#,
      I_REPEATPOUND=#I_REPEATPOUND#,
      C_PLANLIMITTIME=#C_PLANLIMITTIME#,
      C_PONDLIMIT=#C_PONDLIMIT#,
      C_CREATETIME=#C_CREATETIME#,
      C_CREATEUSERNAME=#C_CREATEUSERNAME#,
      C_REMARK=#C_REMARK#,
      C_RESERVE1=#C_RESERVE1#,
      C_RESERVE2=#C_RESERVE2#,
      C_RESERVE3=#C_RESERVE3#,
      I_RESERVE1=#I_RESERVE1#,
      I_RESERVE2=#I_RESERVE2#,
      I_RESERVE3=#I_RESERVE3#,
      C_PLANSTATE=#C_PLANSTATE#,
      C_WGTLISTNO=#C_WGTLISTNO#,
      C_BARCODENO=#C_BARCODENO#,
      N_TAREWGT=#N_TAREWGT#,
      N_GROSSWGT=#N_GROSSWGT#,
      N_NETWGT=#N_NETWGT#,
      C_TAREWGTTIME=#C_TAREWGTTIME#,
      C_GROSSWGTTIME=#C_GROSSWGTTIME#,
      C_NETWGTTIME=#C_NETWGTTIME#,
      C_TAREWGTSITENO=#C_TAREWGTSITENO#,
      C_TAREWGTSITENAME=#C_TAREWGTSITENAME#,
      C_GROSSWGTSITENO=#C_GROSSWGTSITENO#,
      C_GROSSWGTSITENAME=#C_GROSSWGTSITENAME#,
      C_TAREWGTMAN=#C_TAREWGTMAN#,
      C_GROSSWGTMAN=#C_GROSSWGTMAN#,
      I_RETURNFLAG=#I_RETURNFLAG#,
      C_PONDREMARK=#C_PONDREMARK#,
      C_RESERVEFLAG1=#C_RESERVEFLAG1#,
      C_RESERVEFLAG2=#C_RESERVEFLAG2#,
      C_RESERVEFLAG3=#C_RESERVEFLAG3#,
      I_RESERVEFLAG1=#I_RESERVEFLAG1#,
      I_RESERVEFLAG2=#I_RESERVEFLAG2#,
      I_RESERVEFLAG3=#I_RESERVEFLAG3#,
      C_BILLSTATE=#C_BILLSTATE#,
      C_UPDATEUSERNAME=#C_UPDATEUSERNAME#,
      C_UPDATETIME=to_char(sysdate,'yyyyMMddhh24miss'),
      C_BILLCREATETIME=#C_BILLCREATETIME#,
      C_BILLCREATEUSERNAME=#C_BILLCREATEUSERNAME#,
      I_REPEATFLAG=#I_REPEATFLAG#,
      C_UPLOADSTATUE='N',
      C_PLANSTATUS=#C_PLANSTATUS#,
      C_CONTAINERNO=#C_CONTAINERNO#,
      C_RESERVE4=#C_RESERVE4#,
      C_RESERVE5=#C_RESERVE5#,
      C_RESERVE6=#C_RESERVE6#,
      C_RESERVE7=#C_RESERVE7#,
      strFilePath=#strFilePath#
      where  I_INTID=#I_INTID#
    </update>
    
    <insert id="Insert_PM_Bill_Truck" parameterClass="PM_Bill_Truck">
      <selectKey property="I_INTID" type="pre" resultClass="int">
        select SEQ_PM_BILL_TRUCK_ID.nextval as ID from dual
      </selectKey>
      insert into PM_BILL_TRUCK
      (
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      <!--C_UPDATEUSERNAME,
      C_UPDATETIME,-->
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      )values
      (
      #I_INTID#,
      #C_PLANNO#,
      #C_CARNO#,
      #C_CARNAME#,
      #C_CARSERIALNUMBER#,
      #C_CONTRACTNO#,
      #C_MATERIALNO#,
      #C_MATERIALNAME#,
      #C_FROMDEPTNO#,
      #C_FROMDEPTNAME#,
      #C_FROMSTORENO#,
      #C_FROMSTORENAME#,
      #C_TODEPTNO#,
      #C_TODEPTNAME#,
      #C_TOSTORENO#,
      #C_TOSTORENAME#,
      #I_BUSINESSTYPE#,
      #I_PLANTYPE#,
      #I_ISAUTO#,
      #I_WEIGHTTYPE#,
      #I_TARETIMELIMIT#,
      #I_ONEMORESTOCK#,
      #I_ISCHILDIDENFY#,
      #I_ISCREATEMOTHERPOND#,
      #C_CONNECTPLANNO#,
      #I_ONETWOPLAN#,
      #C_MIDDLEDEPTNO#,
      #C_MIDDLEDEPTNAME#,
      #C_MIDDLESTORENO#,
      #C_MIDDLESTORENAME#,
      #I_RETALLYKG#,
      #I_COMPUTERTYPE#,
      #I_DOWNVALUE#,
      #I_UPVALUE#,
      #C_PERCENTAGE#,
      #C_SHIPPINGNOTE#,
      #I_REPEATPOUND#,
      #C_PLANLIMITTIME#,
      #C_PONDLIMIT#,
      #C_CREATETIME#,
      #C_CREATEUSERNAME#,
      #C_REMARK#,
      #C_RESERVE1#,
      #C_RESERVE2#,
      #C_RESERVE3#,
      #I_RESERVE1#,
      #I_RESERVE2#,
      #I_RESERVE3#,
      #C_PLANSTATE#,
      GETPLANNO('99JL','C_WgtlistNo','PM_BILL_TRUCK'),
      #C_BARCODENO#,
      #N_TAREWGT#,
      #N_GROSSWGT#,
      #N_NETWGT#,
      #C_TAREWGTTIME#,
      #C_GROSSWGTTIME#,
      #C_NETWGTTIME#,
      #C_TAREWGTSITENO#,
      #C_TAREWGTSITENAME#,
      #C_GROSSWGTSITENO#,
      #C_GROSSWGTSITENAME#,
      #C_TAREWGTMAN#,
      #C_GROSSWGTMAN#,
      #I_RETURNFLAG#,
      #C_PONDREMARK#,
      #C_RESERVEFLAG1#,
      #C_RESERVEFLAG2#,
      #C_RESERVEFLAG3#,
      #I_RESERVEFLAG1#,
      #I_RESERVEFLAG2#,
      #I_RESERVEFLAG3#,
      #C_BILLSTATE#,
      <!--#C_UPDATEUSERNAME#,
      #C_UPDATETIME#,-->
      to_char(sysdate,'yyyyMMddhh24miss'),
      #C_BILLCREATEUSERNAME#,
      #I_REPEATFLAG#,
      'N',
      'I',
      #C_CONTAINERNO#,
      #C_RESERVE4#,
      #C_RESERVE5#,
      #C_RESERVE6#,
      #C_RESERVE7#,
      #strFilePath#
      )
    </insert>

    <insert id="Insert_PM_Bill_Truck2" parameterClass="PM_Bill_Truck">
      <selectKey property="I_INTID" type="pre" resultClass="int">
        select SEQ_PM_BILL_TRUCK_ID.nextval as ID from dual
      </selectKey>
      insert into PM_BILL_TRUCK
      (
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      )values
      (
      #I_INTID#,
      #C_PLANNO#,
      #C_CARNO#,
      #C_CARNAME#,
      #C_CARSERIALNUMBER#,
      #C_CONTRACTNO#,
      #C_MATERIALNO#,
      #C_MATERIALNAME#,
      #C_FROMDEPTNO#,
      #C_FROMDEPTNAME#,
      #C_FROMSTORENO#,
      #C_FROMSTORENAME#,
      #C_TODEPTNO#,
      #C_TODEPTNAME#,
      #C_TOSTORENO#,
      #C_TOSTORENAME#,
      #I_BUSINESSTYPE#,
      #I_PLANTYPE#,
      #I_ISAUTO#,
      #I_WEIGHTTYPE#,
      #I_TARETIMELIMIT#,
      #I_ONEMORESTOCK#,
      #I_ISCHILDIDENFY#,
      #I_ISCREATEMOTHERPOND#,
      #C_CONNECTPLANNO#,
      #I_ONETWOPLAN#,
      #C_MIDDLEDEPTNO#,
      #C_MIDDLEDEPTNAME#,
      #C_MIDDLESTORENO#,
      #C_MIDDLESTORENAME#,
      #I_RETALLYKG#,
      #I_COMPUTERTYPE#,
      #I_DOWNVALUE#,
      #I_UPVALUE#,
      #C_PERCENTAGE#,
      #C_SHIPPINGNOTE#,
      #I_REPEATPOUND#,
      #C_PLANLIMITTIME#,
      #C_PONDLIMIT#,
      #C_CREATETIME#,
      #C_CREATEUSERNAME#,
      #C_REMARK#,
      #C_RESERVE1#,
      #C_RESERVE2#,
      #C_RESERVE3#,
      #I_RESERVE1#,
      #I_RESERVE2#,
      #I_RESERVE3#,
      #C_PLANSTATE#,
      #C_WGTLISTNO#,
      #C_BARCODENO#,
      #N_TAREWGT#,
      #N_GROSSWGT#,
      #N_NETWGT#,
      #C_TAREWGTTIME#,
      #C_GROSSWGTTIME#,
      #C_NETWGTTIME#,
      #C_TAREWGTSITENO#,
      #C_TAREWGTSITENAME#,
      #C_GROSSWGTSITENO#,
      #C_GROSSWGTSITENAME#,
      #C_TAREWGTMAN#,
      #C_GROSSWGTMAN#,
      #I_RETURNFLAG#,
      #C_PONDREMARK#,
      #C_RESERVEFLAG1#,
      #C_RESERVEFLAG2#,
      #C_RESERVEFLAG3#,
      #I_RESERVEFLAG1#,
      #I_RESERVEFLAG2#,
      #I_RESERVEFLAG3#,
      #C_BILLSTATE#,
      to_char(sysdate,'yyyyMMddhh24miss'),
      #C_BILLCREATEUSERNAME#,
      #I_REPEATFLAG#,
      'N',
      'I',
      #C_CONTAINERNO#,
      #C_RESERVE4#,
      #C_RESERVE5#,
      #C_RESERVE6#,
      #C_RESERVE7#,
      #strFilePath#
      )
    </insert>
  <!--新增-->
  <select id="Select_LatestPM_Bill_TruckByPond3" resultMap="QueryPM_Bill_TruckResultPrint"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO like '%$PlanNo$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO like '%$WgtNo$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME like '%$CarName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">        
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="GrossWgtListNo1">
          <![CDATA[((t.C_TAREWGTSITENO in(#TareWgtListNo1#,#TareWgtListNo2#)) 
          or (t.C_GROSSWGTSITENO in(#GrossWgtListNo1#,#GrossWgtListNo2#)))]]>
        </isNotEmpty>
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_NETWGTTIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>
    <!--新增-->
    <select id="Select_PM_Bill_TruckByHashTable_ForHuda" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE!=2
      and t.I_RESERVE1 = 1
      and t.C_CONTAINERNO is not null
      and (t.C_GROSSWGTSITENO = '109' or t.C_GROSSWGTSITENO = '111')
      and (t.C_GROSSWGTTIME  between #startTime# and #endTime#)
      order by t.C_GROSSWGTTIME desc
    </select>

    <!--新增，用于测试环境-->
    <insert id="Insert_PM_Bill_Truck_New" parameterClass="PM_Bill_Truck">
      <selectKey property="I_INTID" type="pre" resultClass="int">
        select SEQ_PM_BILL_TRUCK_ID.nextval as ID from dual
      </selectKey>
      insert into PM_BILL_TRUCK
      (
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      <!--C_UPDATEUSERNAME,
      C_UPDATETIME,-->
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      )values
      (
      #I_INTID#,
      #C_PLANNO#,
      #C_CARNO#,
      #C_CARNAME#,
      #C_CARSERIALNUMBER#,
      #C_CONTRACTNO#,
      #C_MATERIALNO#,
      #C_MATERIALNAME#,
      #C_FROMDEPTNO#,
      #C_FROMDEPTNAME#,
      #C_FROMSTORENO#,
      #C_FROMSTORENAME#,
      #C_TODEPTNO#,
      #C_TODEPTNAME#,
      #C_TOSTORENO#,
      #C_TOSTORENAME#,
      #I_BUSINESSTYPE#,
      #I_PLANTYPE#,
      #I_ISAUTO#,
      #I_WEIGHTTYPE#,
      #I_TARETIMELIMIT#,
      #I_ONEMORESTOCK#,
      #I_ISCHILDIDENFY#,
      #I_ISCREATEMOTHERPOND#,
      #C_CONNECTPLANNO#,
      #I_ONETWOPLAN#,
      #C_MIDDLEDEPTNO#,
      #C_MIDDLEDEPTNAME#,
      #C_MIDDLESTORENO#,
      #C_MIDDLESTORENAME#,
      #I_RETALLYKG#,
      #I_COMPUTERTYPE#,
      #I_DOWNVALUE#,
      #I_UPVALUE#,
      #C_PERCENTAGE#,
      #C_SHIPPINGNOTE#,
      #I_REPEATPOUND#,
      #C_PLANLIMITTIME#,
      #C_PONDLIMIT#,
      #C_CREATETIME#,
      #C_CREATEUSERNAME#,
      #C_REMARK#,
      #C_RESERVE1#,
      #C_RESERVE2#,
      #C_RESERVE3#,
      #I_RESERVE1#,
      #I_RESERVE2#,
      #I_RESERVE3#,
      #C_PLANSTATE#,
      #C_WGTLISTNO#，
      #C_BARCODENO#,
      #N_TAREWGT#,
      #N_GROSSWGT#,
      #N_NETWGT#,
      #C_TAREWGTTIME#,
      #C_GROSSWGTTIME#,
      #C_NETWGTTIME#,
      #C_TAREWGTSITENO#,
      #C_TAREWGTSITENAME#,
      #C_GROSSWGTSITENO#,
      #C_GROSSWGTSITENAME#,
      #C_TAREWGTMAN#,
      #C_GROSSWGTMAN#,
      #I_RETURNFLAG#,
      #C_PONDREMARK#,
      #C_RESERVEFLAG1#,
      #C_RESERVEFLAG2#,
      #C_RESERVEFLAG3#,
      #I_RESERVEFLAG1#,
      #I_RESERVEFLAG2#,
      #I_RESERVEFLAG3#,
      #C_BILLSTATE#,
      <!--#C_UPDATEUSERNAME#,
      #C_UPDATETIME#,-->
      to_char(sysdate,'yyyyMMddhh24miss'),
      #C_BILLCREATEUSERNAME#,
      #I_REPEATFLAG#,
      'N',
      'I',
      #C_CONTAINERNO#,
      #C_RESERVE4#,
      #C_RESERVE5#,
      #C_RESERVE6#,
      #C_RESERVE7#,
      #strFilePath#
      )
    </insert>
    <!--新增-->    
    <update id="Invalid_PM_TruckMeasureByHashTable_New" parameterClass="HashTable">
      update PT_TRUCKMEASUREPLAN set C_PLANSTATE=#State#   where C_PLANNO=#PlanNo#
    </update>

    <select id="QueryTruckDataIsRepeatByPlanNo" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="string">
      select * FROM PM_BILL_TRUCK
      where C_PLANSTATUS != 'D'
      and C_BILLSTATE != 2
      and C_PLANNO = #PLANNO#
    </select>
    
    <update id="UpdatePM_Bill_TruckStatus"  parameterClass="PM_Bill_Truck">
      update PM_Bill_Truck set
      C_PLANSTATUS=#C_PLANSTATUS#
      ,C_UPLOADSTATUE=#C_UPLOADSTATUE#
      ,C_BILLSTATE=#C_BILLSTATE#
      ,C_UPDATEUSERNAME=#C_UPDATEUSERNAME#
      ,C_UPDATETIME=to_char(sysdate,'yyyyMMddhh24miss')
      where
      I_INTID = #I_INTID#　
    </update>
    <!--新增毛重时间查询-->
    <select id="Select_PM_Bill_TruckByConditions_BillCreatetime" resultMap="QueryPM_Bill_TruckResultSet"   parameterClass="HashTable">
      select
      I_INTID,
      C_PLANNO,
      C_CARNO,
      C_CARNAME,
      C_CARSERIALNUMBER,
      C_CONTRACTNO,
      C_MATERIALNO,
      C_MATERIALNAME,
      C_FROMDEPTNO,
      C_FROMDEPTNAME,
      C_FROMSTORENO,
      C_FROMSTORENAME,
      C_TODEPTNO,
      C_TODEPTNAME,
      C_TOSTORENO,
      C_TOSTORENAME,
      I_BUSINESSTYPE,
      I_PLANTYPE,
      I_ISAUTO,
      I_WEIGHTTYPE,
      I_TARETIMELIMIT,
      I_ONEMORESTOCK,
      I_ISCHILDIDENFY,
      I_ISCREATEMOTHERPOND,
      C_CONNECTPLANNO,
      I_ONETWOPLAN,
      C_MIDDLEDEPTNO,
      C_MIDDLEDEPTNAME,
      C_MIDDLESTORENO,
      C_MIDDLESTORENAME,
      I_RETALLYKG,
      I_COMPUTERTYPE,
      I_DOWNVALUE,
      I_UPVALUE,
      C_PERCENTAGE,
      C_SHIPPINGNOTE,
      I_REPEATPOUND,
      C_PLANLIMITTIME,
      C_PONDLIMIT,
      C_CREATETIME,
      C_CREATEUSERNAME,
      C_REMARK,
      C_RESERVE1,
      C_RESERVE2,
      C_RESERVE3,
      I_RESERVE1,
      I_RESERVE2,
      I_RESERVE3,
      C_PLANSTATE,
      C_WGTLISTNO,
      C_BARCODENO,
      N_TAREWGT,
      N_GROSSWGT,
      N_NETWGT,
      C_TAREWGTTIME,
      C_GROSSWGTTIME,
      C_NETWGTTIME,
      C_TAREWGTSITENO,
      C_TAREWGTSITENAME,
      C_GROSSWGTSITENO,
      C_GROSSWGTSITENAME,
      C_TAREWGTMAN,
      C_GROSSWGTMAN,
      I_RETURNFLAG,
      C_PONDREMARK,
      C_RESERVEFLAG1,
      C_RESERVEFLAG2,
      C_RESERVEFLAG3,
      I_RESERVEFLAG1,
      I_RESERVEFLAG2,
      I_RESERVEFLAG3,
      C_BILLSTATE,
      C_UPDATEUSERNAME,
      C_UPDATETIME,
      C_BILLCREATETIME,
      C_BILLCREATEUSERNAME,
      I_REPEATFLAG,
      C_UPLOADSTATUE,
      C_PLANSTATUS,
      I_PRINTNUM,
      C_CONTAINERNO,
      C_RESERVE4,
      C_RESERVE5,
      C_RESERVE6,
      C_RESERVE7,
      strFilePath
      from PM_BILL_TRUCK t
      where C_BILLSTATE=1
      <isNotEmpty prepend="AND" property="PlanNo">
        t.C_PLANNO like '%$PlanNo$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="WgtNo">
        t.C_WGTLISTNO like '%$WgtNo$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="CarName">
        t.C_CARNAME like '%$CarName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME = #FromDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME = #ToDeptName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME = #MaterialName#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="TareWgtListNo1">
        <isNotEmpty property="GrossWgtListNo1">
          <![CDATA[((t.C_TAREWGTSITENO in(#TareWgtListNo1#,#TareWgtListNo2#)) 
          or (t.C_GROSSWGTSITENO in(#GrossWgtListNo1#,#GrossWgtListNo2#)))]]>
        </isNotEmpty>
      </isNotEmpty>
      <!--<isNotEmpty prepend="AND" property="FromDeptName">
        t.C_FROMDEPTNAME like '%$FromDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="ToDeptName">
        t.C_TODEPTNAME like '%$ToDeptName$%'
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="MaterialName">
        t.C_MATERIALNAME like '%$MaterialName$%'
      </isNotEmpty>-->
      <isNotEmpty prepend="AND" property="StartTime">
        <isNotEmpty  property="EndTime">
          t.C_BILLCREATETIME between #StartTime# and #EndTime#
        </isNotEmpty>
      </isNotEmpty>
      order by t.C_NETWGTTIME desc
    </select>
  </statements>
 
</sqlMap>